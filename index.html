<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>untuk hari bahagia pacarku</title>

  <!-- Google Font (butuh koneksi internet) -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&family=Inter:wght@300;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #fff0f6;
      --card: #fff5fb;
      --pink-1:#ff7ab6;
      --pink-2:#ffb6d9;
      --accent: var(--pink-1);
      --text:#2b0b1e;
    }
    *{box-sizing:border-box;font-family:"Baloo 2", "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg, #fff0f6 0%, #ffeef8 100%);
      padding:20px; color:var(--text);
    }
    .container{
      width:100%; max-width:980px; display:grid; grid-template-columns:1fr 420px; gap:20px;
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
      border-radius:18px; padding:22px; box-shadow: 0 10px 30px rgba(255,118,162,0.12);
      border: 1px solid rgba(255,255,255,0.6);
    }
    h1{margin:0;font-size:1.6rem;color:var(--accent)}
    p.lead{margin:6px 0 14px;color:#6b2540}
    label{display:block;margin-top:10px;font-size:0.9rem;color:#6b2540}
    input[type="text"], textarea{
      width:100%; padding:10px 12px; margin-top:6px; border-radius:10px;
      border:1px solid rgba(203, 60, 116, 0.15);
      background: rgba(255,255,255,0.8); outline:none; resize:vertical;
    }
    textarea{min-height:100px}
    .btn{
      padding:10px 14px;border-radius:12px; cursor:pointer; border:none;
      background: linear-gradient(90deg,var(--pink-1), var(--pink-2));
      color:white; font-weight:700; box-shadow: 0 6px 18px rgba(255,122,182,0.18);
    }
    .btn.secondary{background:transparent;color:var(--accent);border:1px dashed rgba(255,122,182,0.25);font-weight:700}
    .preview{display:flex; flex-direction:column; gap:12px; align-items:center; justify-content:center; padding:6px}
    .card-preview{
      width:100%; max-width:360px; min-height:320px; border-radius:16px; padding:18px;
      background: linear-gradient(180deg,#fff9fc,#fff0f6);
      text-align:center; position:relative; overflow:hidden; border:1px solid rgba(255,182,210,0.5);
    }
    .name{font-size:1.4rem;font-weight:800;color:var(--accent); margin-top:6px}
    .message{color:#6b2540;padding:0 10px;margin-top:8px}
    .small{font-size:0.85rem;color:#8e4a66}
    .top-decor{
      position:absolute; right:-40px; top:-40px; width:160px; height:160px; transform:rotate(25deg);
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), rgba(255,255,255,0));
      filter:blur(8px);
    }
    .star{
      position:absolute; left:10px; top:-18px; font-size:36px; transform:rotate(-12deg); opacity:0.9;
    }
    .confetti-canvas{position:absolute; inset:0; pointer-events:none}
    @media(max-width:880px){ .container{grid-template-columns:1fr} .card-preview{max-width:100%} }
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>üéÄ Ucapan Ulang Tahun ‚Äî Tema Pink Lucu</h1>
      <p class="lead">Saya bantu step-by-step. Isi nama & pesan, lalu tekan <strong>Kirim Ucapan</strong> ‚Äî ada confetti dan suara lucu!</p>

      <label for="toName">Untuk (nama penerima)</label>
      <input id="toName" type="text" placeholder="Mis. Dinda" value="Dinda Imut"/>

      <label for="msg">Pesan singkat</label>
      <textarea id="msg">Selamat ulang tahun, Dinda! Semoga hari-harimu manis seperti permen dan penuh kejutan bahagia üíñ</textarea>

      <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
        <button class="btn" id="sendBtn">Kirim Ucapan üéâ</button>
        <button class="btn secondary" id="resetBtn">Reset</button>
        <button class="btn secondary" id="downloadBtn">Simpan Gambar</button>
      </div>

      <label style="margin-top:12px" class="small">Pilihan tema</label>
      <div style="display:flex;gap:8px;margin-top:6px">
        <button class="btn secondary" id="themeCute">Pink Cute</button>
        <button class="btn secondary" id="themeSoft">Soft Pink</button>
      </div>

      <p class="small" style="margin-top:12px">Tip: ubah teks, pilih tema, lalu kirim. Kalau mau, saya buatkan versi yang termasuk foto & musik.</p>
    </div>

    <div class="card preview">
      <div class="card-preview" id="previewArea">
        <div class="top-decor"></div>
        <div class="star">‚≠ê</div>
        <canvas class="confetti-canvas" id="confetti"></canvas>

        <div style="margin-top:22px">
          <div class="small">Untuk</div>
          <div class="name" id="previewName">Dinda Imut</div>
          <div class="message" id="previewMsg">Selamat ulang tahun, Dinda! Semoga hari-harimu manis seperti permen dan penuh kejutan bahagia üíñ</div>
          <div class="small" style="margin-top:12px">‚Äî Dari teman yang sayang</div>
        </div>
      </div>

      <div style="display:flex;gap:8px;margin-top:10px;align-items:center;justify-content:center">
        <div class="small">Status: <span id="status">Menunggu</span></div>
      </div>
    </div>
  </div>

  <!-- Optional cute sound (user must click to play in many browsers) -->
  <audio id="popSound" preload="auto">
    <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAgD4AAAB9AAACABAAZGF0YQgAAAAA" type="audio/wav">
  </audio>

<script>
  // Elemen
  const nameInput = document.getElementById('toName');
  const msgInput = document.getElementById('msg');
  const sendBtn = document.getElementById('sendBtn');
  const resetBtn = document.getElementById('resetBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const previewName = document.getElementById('previewName');
  const previewMsg = document.getElementById('previewMsg');
  const status = document.getElementById('status');
  const popSound = document.getElementById('popSound');

  // Update preview real-time
  nameInput.addEventListener('input', ()=> previewName.textContent = nameInput.value || 'Teman Spesial');
  msgInput.addEventListener('input', ()=> previewMsg.textContent = msgInput.value || '');

  // Theme quick switches
  document.getElementById('themeCute').addEventListener('click', ()=>{
    document.documentElement.style.setProperty('--pink-1','#ff6fb5');
    document.documentElement.style.setProperty('--pink-2','#ffd1e8');
    previewMsg.textContent = msgInput.value;
  });
  document.getElementById('themeSoft').addEventListener('click', ()=>{
    document.documentElement.style.setProperty('--pink-1','#ff9bb3');
    document.documentElement.style.setProperty('--pink-2','#ffd7e6');
    previewMsg.textContent = msgInput.value;
  });

  // Confetti minimal (canvas)
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = canvas.clientWidth;
  let H = canvas.height = canvas.clientHeight;
  function resize(){ W = canvas.width = canvas.clientWidth; H = canvas.height = canvas.clientHeight; }
  window.addEventListener('resize', resize);

  function rand(a,b){ return Math.random()*(b-a)+a; }
  class C{
    constructor(){ this.x = rand(0,W); this.y = rand(-H,0); this.vx = rand(-4,4); this.vy = rand(2,8);
      this.r = rand(6,12); this.c = ['#ff6fb5','#ffd1e8','#ff9bb3','#fff2f7'][Math.floor(rand(0,4))]; this.rot = rand(0,360); this.vr = rand(-8,8);
    }
    upd(){ this.x += this.vx; this.y += this.vy; this.rot += this.vr;
      if(this.y>H+30) { this.y = rand(-60,-10); this.x = rand(0,W); }
    }
    draw(){ ctx.save(); ctx.translate(this.x,this.y); ctx.rotate(this.rot*Math.PI/180); ctx.fillStyle = this.c; ctx.fillRect(-this.r/2,-this.r/2,this.r,this.r); ctx.restore();}
  }
  let parts = [];
  function make(n=80){ parts=[]; for(let i=0;i<n;i++) parts.push(new C()); }
  make(80);
  let anim;
  function run(){ ctx.clearRect(0,0,W,H); for(let p of parts){ p.upd(); p.draw(); } anim = requestAnimationFrame(run); }
  function burst(){
    for(let p of parts){ p.vy = rand(3,12); p.vx = rand(-6,6); p.x = rand(20,W-20); p.y = rand(-40,40); }
    if(!anim) run();
    setTimeout(()=>{ cancelAnimationFrame(anim); anim = null; ctx.clearRect(0,0,W,H); }, 4200);
  }

  // Send button
  sendBtn.addEventListener('click', ()=>{
    previewName.textContent = nameInput.value || 'Teman Spesial';
    previewMsg.textContent = msgInput.value || '';
    status.textContent = 'Terkirim üéâ';
    burst();
    try{ popSound.currentTime = 0; popSound.play().catch(()=>{}); }catch(e){}
    // small pulse
    document.getElementById('previewArea').animate([{transform:'scale(.98)'},{transform:'scale(1)'}], {duration:350, easing:'cubic-bezier(.2,.8,.2,1)'});
  });

  // Reset
  resetBtn.addEventListener('click', ()=>{
    nameInput.value = 'Dinda Imut';
    msgInput.value = 'Selamat ulang tahun, Dinda! Semoga hari-harimu manis seperti permen dan penuh kejutan bahagia üíñ';
    previewName.textContent = nameInput.value;
    previewMsg.textContent = msgInput.value;
    status.textContent = 'Menunggu';
  });

  // Download image (SVG foreignObject trick)
  downloadBtn.addEventListener('click', ()=>{
    const area = document.getElementById('previewArea');
    const rect = area.getBoundingClientRect();
    const scale = 2;
    const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${rect.width*scale}' height='${rect.height*scale}'>
      <foreignObject width='100%' height='100%'>
        <div xmlns='http://www.w3.org/1999/xhtml' style='width:${rect.width}px;height:${rect.height}px;font-family: "Baloo 2", "Inter", system-ui;'>
          ${area.innerHTML}
        </div>
      </foreignObject>
    </svg>`;
    const blob = new Blob([svg], {type:'image/svg+xml;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const img = new Image();
    img.onload = ()=>{
      const c = document.createElement('canvas');
      c.width = rect.width*scale; c.height = rect.height*scale;
      const cx = c.getContext('2d');
      cx.fillStyle = '#fff0f6'; cx.fillRect(0,0,c.width,c.height);
      cx.drawImage(img,0,0);
      URL.revokeObjectURL(url);
      c.toBlob((b)=>{
        const a = document.createElement('a');
        a.href = URL.createObjectURL(b);
        const fname = `ucapan_${(nameInput.value||'teman').replace(/\s+/g,'_')}.png`;
        a.download = fname; a.click();
      }, 'image/png');
    };
    img.onerror = ()=> alert('Gagal menyimpan. Coba buka di Chrome/Edge jika error.');
    img.src = url;
  });

  // initialize preview text
  previewName.textContent = nameInput.value;
  previewMsg.textContent = msgInput.value;
</script>
</body>
</html>
